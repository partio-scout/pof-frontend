window.Partio=function(e,n,$){var t={};return t.cache=function(){t.$slider=$(".slider"),t.currentLang=$("body").data("lang"),t.$menu=$(".menu-wrapper"),t.$content=$(".content-wrapper"),t.$programContent=$("#program-content"),t.$spinner=$(".partio-spinner"),t.$menu_has_children=$(".menu-item-has-children"),t.$menu_has_children_toggler=$(".menu-item-has-children > a > .toggler"),t.$mainmenu=$(".main_menu-wrapper"),t.$frontpageContent=$(".frontpage-content-wrapper"),t.$showmainmenu=$(".show-main_menu"),t.$showmenu=$(".show-menu"),t.menuheight=t.$menu.outerHeight(),t.contentheight=t.$content.outerHeight(),t.$secondLangMenu=$("#second-lang-menu"),t.$dynamicLangLinks=t.$secondLangMenu.find(".dynamic"),t.$tips_heading=$(".tips__heading"),t.$tip__content=$(".tip__content"),t.$tasks__filter_heading=$(".tasks__filter-heading"),t.$printbutton=$(".print-button"),t.$search_section__header=$(".search-section__header")},t.dp_ajax_success=function(e,n,t){console.log("success",e)},t.dp_ajax_error=function(e,n,t){console.log("error",e)},t.init=function(){t.cache(),t.$dynamicLangLinks.on("click",t.switchLang),$(n).foundation(),t.$slider.slick({autoplay:!0,autoplaySpeed:t.$slider.data("time"),arrows:!1,fade:!0,infinite:!0,pause:!1,speed:500}),$(function(){FastClick.attach(n.body)}),t.$showmainmenu.on("click",function(){t.$showmainmenu.toggleClass("move-right"),t.$mainmenu.toggleClass("move-right"),t.$frontpageContent.toggleClass("move-right")}),t.$showmenu.on("click",function(){t.$menu.toggleClass("move-right"),t.$content.toggleClass("move-right")}),t.$menu_has_children_toggler.each(function(){var e=$(this);e.on("click",function(n){n.preventDefault(),n.stopPropagation();var o=e.closest(".menu-item-has-children");o.siblings().removeClass("opened"),o.siblings().find(".toggler").removeClass("opened"),e.toggleClass("opened"),o.toggleClass("opened");var i=t.$menu.outerHeight();i>t.contentheight&&t.$content.css("min-height",i)})}),t.$tips_heading.on("click",function(){var e=$(this);e.toggleClass("opened"),e.closest(".tips__header").siblings(".tips__body").toggleClass("opened")}),t.$tasks__filter_heading.on("click",function(){var e=$(this);e.toggleClass("opened"),e.closest(".tasks__heading-row").next(".tasks__body-row").toggleClass("opened")}),t.$search_section__header.on("click",function(){var e=$(this);e.toggleClass("opened"),e.next(".search-section__body").toggleClass("opened");var n=t.$menu.outerHeight();n>t.contentheight&&t.$content.css("min-height",n)}),t.$tip__content.dotdotdot({ellipsis:"... ",wrap:"letter",fallbackToLetter:!0,after:null,watch:!0,height:null,tolerance:0,callback:function(e,n){},lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]}}),t.$printbutton.each(function(){$(this).on("click",function(){e.print()})}),t.menuheight>t.contentheight&&t.$content.css("min-height",t.menuheight)},t.switchLang=function(e){e.preventDefault(),e.stopPropagation(),t.$spinner.show();var n=$(e.target).data("id"),o=$(e.target).data("lang"),i=$(e.target).data("model"),a={args:{id:n},get:"?lang="+t.currentLang,tidy:!0,render:!0,success:function(e){t.$spinner.hide(),t.$programContent.html(e)},error:function(e){console.log(e)}};DustPress.ajax(i+"/translate",a)},$(n).ready(t.init),t}(window,document,jQuery);